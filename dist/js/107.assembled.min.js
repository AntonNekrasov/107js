var h107=function(){"use strict";function e(e,s){if(!e||h107.aliasMap[e])throw"alias "+e+" is either already in use or not specified correctly";h107.aliasMap[e]=function(e){var i=n(s,e),o=t(s.component);return new o(i)}}function t(e){var t=h107.aliasMap[e];if(!t)throw"identifyObjectByAlias: no match found for alias "+e;return h107.aliasMap[e]}function s(e){var s=t(e.component);return new s(e)}function n(e,t){function s(e,t){return o(e)&&o(t)}var i,a={};if(!t)return e;for(i in e)e.hasOwnProperty(i)&&(a[i]=s(t[i],e[i])?n(t[i],e[i]):t[i]?t[i]:e[i]);for(i in t)t.hasOwnProperty(i)&&!e[i]&&(a[i]=t[i]);return a}function i(e,t){var s=function(){};s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e,e.superclass=t.prototype}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){var s,n="",i=r(e,t),o="abcdefghijklmnopqrstuvwxyz";for(s=0;i>s;s++)n+=o.charAt(Math.floor(Math.random()*o.length));return n}function r(e,t){return Math.floor(Math.random()*(t-e))+e}return{define:e,create:s,identifyObjectByAlias:t,mergeObjects:n,extend:i,generateId:a,isObject:o}}();h107.view={},h107.view.components={},h107.view.components.base={},h107.controller={},h107.model={},h107.aliasMap={},h107.Callback=function(e,t,s){"use strict";this.fn=e,this.scope=t,this.parameters=s},h107.DomProcessor=function(){"use strict";function e(e,s,n){var i,o=document.createElement(e);for(i in s)s.hasOwnProperty(i)&&t(o,i,s[i]);return n&&(o.innerText=n,o.textContent=n),o}function t(e,t,s){if(h107.isObject(s)){var n,i="";for(n in s)s.hasOwnProperty(n)&&(i+=n+":"+s[n]+";");e.setAttribute(t,i)}else e.setAttribute(t,s)}function s(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)}function n(e,t){s(e,t)||(e.className=e.className?[e.className,t].join(" "):t)}function i(e,t){if(s(e,t)){var n=e.className;e.className=n.replace(new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)","g"),"")}}return{buildElement:e,applyAttribute:t,hasClassName:s,addClassName:n,removeClassName:i}}(),h107.view.components.base.BaseElement=function(e){"use strict";var t=10,s=5,n={attributes:{id:h107.generateId(s,t)}};this.settings=h107.mergeObjects(n,e),this.html=this.assemble()},h107.view.components.base.BaseElement.prototype={constructor:h107.view.components.base.BaseElement,assemble:function(){"use strict";throw"method hasn't been specified"},hide:function(){"use strict";h107.DomProcessor.addClassName(this.html,"h107-hidden")},show:function(){"use strict";h107.DomProcessor.removeClassName(this.html,"h107-hidden")},fadeOut:function(e,t){"use strict";var s=this,n=30,i=s.html,o=setInterval(function(){var e=parseFloat(i.style.opacity);e>0?s.html.style.opacity=e-.1:(clearInterval(o),s.hide(),t&&t.fn.apply(t.scope,t.parameters))},e||n)},fadeIn:function(e,t){"use strict";var s,n=this,i=n.html,o=30;n.show(),s=setInterval(function(){var e=parseFloat(i.style.opacity);e>=1?(clearInterval(s),t&&t.fn.apply(t.scope,t.parameters)):i.style.opacity=e+.1},e||o)}},h107.view.components.base.BaseInput=function(e){"use strict";var t={name:"",label:{attributes:{},text:""},container:{attributes:{}}},s=h107.mergeObjects(t,e);if(!s.name)throw"Input element: name is not defined";h107.view.components.base.BaseInput.superclass.constructor.call(this,s)},h107.extend(h107.view.components.base.BaseInput,h107.view.components.base.BaseElement),h107.view.components.base.BaseInput.prototype.validate=function(){"use strict"},h107.view.components.base.BaseInput.prototype.assemble=function(e){"use strict";if(!e)throw"BaseInput: no input defined";var t=h107.DomProcessor.buildElement,s=this.settings.container,n=t("div",s.attributes),i=this.settings.label;i.attributes["for"]=e.id;var o=t("label",i.attributes,i.text);return n.appendChild(o),n.appendChild(e),n},h107.view.components.base.BaseContainer=function(e){"use strict";var t={attributes:{},components:[]};this.components={};var s=h107.mergeObjects(t,e);h107.view.components.base.BaseContainer.superclass.constructor.call(this,s)},h107.extend(h107.view.components.base.BaseContainer,h107.view.components.base.BaseElement),h107.view.components.base.BaseContainer.prototype.assemble=function(e){"use strict";var t=this,s=t.settings.components;return s.map(function(s){var n=h107.create(s);t.append(e,n)}),e},h107.view.components.base.BaseContainer.prototype.append=function(e,t){"use strict";this.components[t.settings.attributes.id]=t,e.appendChild(t.html)},h107.view.components.TextInput=function(e){"use strict";var t={attributes:{placeholder:""}},s=h107.mergeObjects(t,e);h107.view.components.TextInput.superclass.constructor.call(this,s)},h107.extend(h107.view.components.TextInput,h107.view.components.base.BaseInput),h107.aliasMap.text=h107.view.components.TextInput,h107.view.components.TextInput.prototype.assemble=function(){"use strict";var e=this.settings.attributes;e.type="text",e.name=this.settings.name;var t=h107.DomProcessor.buildElement("input",e);return h107.view.components.TextInput.superclass.assemble.call(this,t)},h107.view.components.HiddenInput=function(e){"use strict";h107.view.components.HiddenInput.superclass.constructor.call(this,e)},h107.extend(h107.view.components.HiddenInput,h107.view.components.base.BaseInput),h107.aliasMap.hidden=h107.view.components.HiddenInput,h107.view.components.HiddenInput.prototype.assemble=function(){"use strict";var e=this.settings.attributes;e.type="hidden",e.name=this.settings.name;var t=h107.DomProcessor.buildElement("input",e);return t},h107.view.components.Textarea=function(e){"use strict";var t={attributes:{placeholder:"",style:{resize:"vertical"}}},s=h107.mergeObjects(t,e);h107.view.components.Textarea.superclass.constructor.call(this,s)},h107.extend(h107.view.components.Textarea,h107.view.components.base.BaseInput),h107.aliasMap.textarea=h107.view.components.Textarea,h107.view.components.Textarea.prototype.assemble=function(){"use strict";var e=this.settings.attributes;e.name=this.settings.name;var t=h107.DomProcessor.buildElement("textarea",e);return h107.view.components.Textarea.superclass.assemble.call(this,t)},h107.view.components.Table=function(e){"use strict";var t={name:"",attributes:{placeholder:""}},s=h107.mergeObjects(t,e);h107.view.components.Table.superclass.constructor.call(this,s)},h107.extend(h107.view.components.Table,h107.view.components.base.BaseElement),h107.aliasMap.table=h107.view.components.Table,h107.view.components.Table.prototype.assemble=function(){"use strict";var e=h107.DomProcessor.buildElement,t=e("table",this.settings),s=e("thead"),n=e("th"),i=e("td",{},"test");return n.appendChild(i),s.appendChild(n),t.appendChild(s),t},h107.view.components.Button=function(e){"use strict";var t={id:"",text:""},s=h107.mergeObjects(t,e);h107.view.components.Button.superclass.constructor.call(this,s)},h107.extend(h107.view.components.Button,h107.view.components.base.BaseElement),h107.view.components.Section=function(e){"use strict";var t={},s=h107.mergeObjects(t,e);h107.view.components.Section.superclass.constructor.call(this,s)},h107.extend(h107.view.components.Section,h107.view.components.base.BaseContainer),h107.aliasMap.section=h107.view.components.Section,h107.view.components.Section.prototype.assemble=function(){"use strict";var e=this.settings.attributes,t=h107.DomProcessor.buildElement("div",e);return h107.view.components.Section.superclass.assemble.call(this,t)},h107.view.View=function(e){"use strict";this.url="";var t={attributes:{}},s=h107.mergeObjects(t,e);h107.view.View.superclass.constructor.call(this,s)},h107.extend(h107.view.View,h107.view.components.base.BaseContainer),h107.aliasMap.view=h107.view.View,h107.view.View.prototype.assemble=function(){"use strict";var e=this.settings.attributes,t=h107.DomProcessor.buildElement("div",e);return h107.view.View.superclass.assemble.call(this,t)},h107.view.View.prototype.isActive=function(){"use strict";return!!this.settings.active},h107.view.View.prototype.desActivate=function(e,t){"use strict";this.settings.active=!1,0===e?this.hide():this.fadeOut(e,t)},h107.view.View.prototype.activate=function(e,t){"use strict";this.settings.active=!0,0===e?this.show():this.fadeIn(e,t)},h107.view.CardView=function(e){"use strict";var t={attributes:{style:{position:"relative"}}},s=h107.mergeObjects(t,e);h107.view.CardView.superclass.constructor.call(this,s)},h107.extend(h107.view.CardView,h107.view.components.base.BaseContainer),h107.aliasMap.cardview=h107.view.CardView,h107.view.CardView.prototype.assemble=function(){"use strict";this.__transformViewsIntoCards();var e=this.settings.attributes,t=h107.DomProcessor.buildElement("div",e),s=h107.view.CardView.superclass.assemble.call(this,t);for(var n in this.components)if(this.components.hasOwnProperty(n)&&!(this.components[n]instanceof h107.view.View))throw"CardView can only accept h107.view.View object types";return s},h107.view.CardView.prototype.getActiveView=function(){"use strict";console.log(Function.apply(this.components));for(var e in this.components)if(this.components.hasOwnProperty(e)&&this.components[e].isActive())return this.components[e]},h107.view.CardView.prototype.setActive=function(e,t){"use strict";var s=this.getActiveView(),n=15,i=this.components[e];s.desActivate(t||n,new h107.Callback(i.activate,i,[t||n]))},h107.view.CardView.prototype.__transformViewsIntoCards=function(){"use strict";var e=this.settings.components,t=[],s={attributes:{"class":"h107-hidden",style:{opacity:0}}},n={attributes:{style:{opacity:1}}};e.map(function(e){e=e.active?h107.mergeObjects(e,n):h107.mergeObjects(e,s),t.push(e)}),this.settings.components=t},h107.view.FormView=function(e){"use strict";var t={action:"",method:"POST"},s=h107.mergeObjects(t,e);h107.view.FormView.superclass.constructor.call(this,s)},h107.extend(h107.view.FormView,h107.view.components.base.BaseContainer),h107.aliasMap.form=h107.view.FormView,h107.view.FormView.prototype.assemble=function(){"use strict";var e=this.settings.attributes;e.action=this.settings.action,e.method=this.settings.method;var t=h107.DomProcessor.buildElement("form",e);return h107.view.FormView.superclass.assemble.call(this,t)},h107.view.FormView.prototype.isDirty=function(){"use strict"},h107.view.FormView.prototype.validate=function(){"use strict"},h107.view.FormView.prototype.submit=function(){"use strict"},h107.view.FormView.prototype.loadRecord=function(e){"use strict";console.log(e)},h107.ajax=function(e){"use strict";var t=this,s={type:"GET",url:"",data:{},dataType:"text",success:null,error:null,always:null,reply:"reply",cached:!0},n=h107.mergeObjects(s,e),i=window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");i.onreadystatechange=function(){var e,s={},o=200,a=4;i.readyState===a&&i.status===o&&n.success?e=n.success:n.error&&(e=n.error),e&&(s=e.parameters,i.response&&(s[e.reply]=i.response),e.fn.apply(e.scope?e.scope:t,[s])),n.always&&(s=n.always.parameters,i.response&&(s[e.reply]=i.response),n.always.fn.apply(n.always.scope?n.always.scope:t,[s]))},i.open(n.type,n.cached?n.url:n.url+"?_c="+Math.random(),!0),i.responseType=n.type,i.send()};